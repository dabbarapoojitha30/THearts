<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Register - Pediatric Echo</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body {
        background: #f5f7fa;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    #registerForm {
        background: #fff;
        padding: 30px 25px;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        width: 100%;
        max-width: 400px;
    }
    #registerForm h2 {
        text-align: center;
        margin-bottom: 25px;
        font-weight: 600;
        color: #333;
    }
    #registerForm .form-control:focus {
        box-shadow: none;
        border-color: #4e73df;
    }
    #registerForm button {
        font-weight: 600;
        letter-spacing: 0.5px;
    }
</style>
</head>
<body>

<form id="registerForm">
    <h2>Create Account</h2>
    <div class="mb-3">
        <label class="form-label">Username</label>
        <input type="text" id="regUsername" class="form-control" placeholder="Enter username" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Password</label>
        <input type="password" id="regPassword" class="form-control" placeholder="Enter password" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Role</label>
        <select id="regRole" class="form-select">
            <option value="guest" selected>Guest</option>
            <option value="admin">Admin</option>
        </select>
    </div>
    <button type="submit" class="btn btn-primary w-100">Register</button>
    <p class="mt-3 text-center">Already have an account? <a href="login.html">Login</a></p>
</form>

<script>
document.getElementById('registerForm').addEventListener('submit', function(e){
    e.preventDefault();
    const username = document.getElementById('regUsername').value.trim();
    const password = document.getElementById('regPassword').value.trim();
    const role = document.getElementById('regRole').value;

    let users = JSON.parse(localStorage.getItem('users') || '[]');
    if(users.find(u => u.username === username)){
        alert('Username already exists');
        return;
    }

    users.push({ username, password, role });
    localStorage.setItem('users', JSON.stringify(users));
    alert('Registered successfully');
    window.location.href = 'login.html';
});
</script>

</body>
</html>
